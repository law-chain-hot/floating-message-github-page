{"version":3,"sources":["components/HOC/requireAuth.js","components/Message.js"],"names":["requireAuth","ChildComponent","connect","state","auth","authenticated","props","useAuth0","isAuthenticated","user","useEffect","history","push","useStyles","makeStyles","container","display","alignItems","width","height","flexDirection","form","borderRadius","margin","padding","background","boxShadow","classes","useState","name","setName","content","setContent","status","setStatus","handleSubmit","event","a","postData","axios","post","process","preventDefault","className","onSubmit","Input","icon","iconPosition","label","placeholder","type","value","onChange","e","target","TextArea","rows","secondary","success","header","error"],"mappings":"mGAAA,oCAiCeA,IA3BK,SAACC,GAwBjB,OAAOC,aANiB,SAACC,GACrB,MAAO,CACHC,KAAMD,EAAMC,KAAKC,iBAIlBH,EAvBmB,SAACI,GAAW,IAAD,EACCC,cAApBC,GADmB,EACzBC,KADyB,EACnBD,iBAad,OAVAE,qBAAU,WAEGJ,EAAMF,MAASI,GAChBF,EAAMK,QAAQC,KAAK,OAK5B,CAACN,EAAMF,OAEH,kBAACH,EAAmBK,Q,4JCX7BO,EAAYC,YAAW,CAE3BC,UAAW,CACTC,QAAS,OAETC,WAAY,SACZC,MAAO,OACPC,OAAQ,QACRC,cAAe,UAGjBC,KAAM,CACJC,aAAc,OACdJ,MAAO,MACPK,OAAQ,QACRC,QAAS,OACTC,WAAY,YACZC,UAAW,gCA6FA1B,uBArFU,SAACM,GACxB,IAAMqB,EAAUd,IADkB,EAGVe,mBAAS,IAHC,mBAG3BC,EAH2B,KAGrBC,EAHqB,OAIJF,mBAAS,IAJL,mBAI3BG,EAJ2B,KAIlBC,EAJkB,OAKNJ,mBAAS,IALH,mBAK3BK,EAL2B,KAKnBC,EALmB,KAS5BC,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACbC,EAAW,CACfT,KAAMA,EACNE,QAASA,GAHQ,kBAMMQ,IAAMC,KAAN,UAnBlBC,0CAmBkB,gBAAgCH,GANtC,cAQjBR,EAAQ,IACRE,EAAW,IACXE,EAAU,cACVE,EAAMM,iBAXW,kDAcjBR,EAAU,SACVE,EAAMM,iBAfW,0DAAH,sDAuClB,OACE,yBAAKC,UAAWhB,EAAQZ,WAGtB,yBAAK4B,UAAWhB,EAAQN,MACtB,4CACA,kBAAC,IAAD,CAAMuB,SAAUT,GACd,kBAAC,IAAKU,MAAN,CACEC,KAAK,OACLC,aAAa,OACbC,MAAM,OACNC,YAAY,OACZC,KAAK,OACLC,MAAOtB,EACPuB,SAAU,SAACC,GAAD,OAAOvB,EAAQuB,EAAEC,OAAOH,UAEpC,kBAAC,IAAKI,SAAN,CACEP,MAAM,UACNQ,KAAM,EACNP,YAAY,eACZE,MAAOpB,EACPqB,SAAU,SAACC,GAAD,OAAOrB,EAAWqB,EAAEC,OAAOH,UAEvC,kBAAC,IAAD,CAAQpB,QAAQ,SAAS0B,WAAS,EAACP,KAAK,YAvC/B,eAAXjB,EACF,kBAAC,IAAD,CACEyB,SAAO,EACPC,OAAO,sBACP5B,QAAQ,sCAGQ,UAAXE,EACP,kBAAC,IAAD,CACE2B,OAAK,EACLD,OAAO,mBACP5B,QAAQ,4CAJP","file":"static/js/10.a1811ffe.chunk.js","sourcesContent":["// name begins with lowercase, export by default a function\n\nimport React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nconst requireAuth = (ChildComponent) => {\n    const ComposedComponent = (props) => {\n        const { user, isAuthenticated } = useAuth0();\n\n\n        useEffect(() => {\n            const shouldNavigateAway = () => {\n                if (!props.auth && !isAuthenticated) {\n                    props.history.push('/')\n                }\n            }\n            shouldNavigateAway()\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [props.auth])\n\n        return <ChildComponent {...props} />\n    }\n\n    const mapStateToProps = (state) => {\n        return {\n            auth: state.auth.authenticated\n        }\n    }\n\n    return connect(mapStateToProps)(ComposedComponent)\n}\n\nexport default requireAuth\n\n\n// Imagine we are in CommentBox.js\n// Using the HOC to add the requireAuth to goal component, \n// Like injecting the component into project","import React, { useState } from \"react\"\nimport { reduxForm, Field } from \"redux-form\";\nimport { compose } from \"redux\"\nimport axios from \"axios\"\n\nimport requireAuth from \"./HOC/requireAuth\"\nimport { Form, Message, Button, Input } from \"semantic-ui-react\"\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n\n  container: {\n    display: \"flex\",\n    // justifyContent: 'center',\n    alignItems: \"center\",\n    width: \"100%\",\n    height: \"900px\",\n    flexDirection: \"column\",\n    // background: '#4862c3bf'\n  },\n  form: {\n    borderRadius: \"10px\",\n    width: \"60%\",\n    margin: \"100px\",\n    padding: \"50px\",\n    background: \"#f3f3f3a8\",\n    boxShadow: \"6px 3px 20px 2px #0000004d\",\n  },\n});\n\nconst IP = process.env.REACT_APP_SERVER\n\n// import { useAuth0 } from \"@auth0/auth0-react\";\n\nconst MessageComponent = (props) => {\n  const classes = useStyles();\n\n  const [name, setName] = useState(\"\")\n  const [content, setContent] = useState(\"\")\n  const [status, setStatus] = useState(\"\")\n\n\n\n  const handleSubmit = async (event) => {\n    const postData = {\n      name: name,\n      content: content\n    }\n    try {\n      const response = await axios.post(`${IP}/postmessage`, postData)\n\n      setName(\"\")\n      setContent(\"\")\n      setStatus(\"successful\")\n      event.preventDefault()\n\n    } catch (err) {\n      setStatus(\"error\")\n      event.preventDefault()\n\n    }\n\n  }\n\n  const generateMessage = () => {\n\n    if (status === \"successful\") return (\n      <Message\n        success\n        header='Successfully Posted'\n        content=\"You successfully posted a message\"\n      />\n    )\n    else if (status === \"error\") return (\n      <Message\n        error\n        header='Action Forbidden'\n        content='Name and content can not be empty.'\n      />\n    )\n  }\n\n  return (\n    <div className={classes.container}>\n            \n\n      <div className={classes.form}>\n        <h4>Post message</h4>\n        <Form onSubmit={handleSubmit}>\n          <Form.Input\n            icon='user'\n            iconPosition='left'\n            label='Name'\n            placeholder='Name'\n            type='text'\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <Form.TextArea\n            label='Message'\n            rows={7}\n            placeholder='Tell us more'\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          />\n          <Button content='Submit' secondary type='submit' />\n\n        </Form>\n        {generateMessage()}\n      </div>\n\n    </div>\n  )\n}\n\n\n\n\n\nexport default requireAuth(MessageComponent)"],"sourceRoot":""}